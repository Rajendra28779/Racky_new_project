<div class="form-cointainer claim-detail">
    <div class="main-tab">
        <div class="row justify-content-between">
            <div class="col-lg-4">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a routerLink="/application/NonComplianceQuerySNAToSNA/action" routerLinkActive="active" class="nav-link active">Non Compliance Of Query SNA Approval</a>
                    </li>
                </ul>
            </div>
            <div class="col-lg-6 ">
                <app-utilite (receiveResponse)="getResponseFromUtil($event)"></app-utilite>
            </div>
        </div>
    </div>
    <div class="content-box p-0 border-0 bg-transparent">
        <div class="row">
            <div class="col-lg-6 col-xl-6 col-xxl-4">
                <div class="card shadow-sm basic-info">
                    <div class="card-header">
                        <h5 class="mb-0">Basic Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3 border-bottom pb-3">
                            <span class="text-success"><i class="iconbsky-hospital fs-1 me-3"></i></span>
                            <div>
                                <p class="mb-0 fw-bold">{{ claimDetails?.HOSPITALNAME}} ({{ claimDetails?.HOSPITALCODE }})
                                    <br> {{ claimDetails?.HOSPITALADDRESS}}</p>
                            </div>
                        </div>
                        <div class="row border-bottom mb-3 pb-3">
                            <div class="col-lg-12">
                                <div class="d-flex align-items-center border-end">
                                    <span class="text-success"><i class="iconbsky-urn-number fs-1 me-3"></i></span>
                                    <div>
                                        <p class="text-muted mb-0">URN</p>
                                        <p class="mb-0 fw-bold">{{ claimDetails?.URN}}</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row border-bottom mb-3 pb-3">
                            <div class="d-flex align-items-center">
                                <span class="text-success"><i class="iconbsky-invoice-number fs-1 me-3"></i></span>
                                <div>
                                    <p class="text-muted mb-0">Invoice Number</p>
                                    <p class="mb-0 fw-bold">{{ claimDetails?.INVOICENO}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex align-items-center">
                            <span class="text-success"><i class="iconbsky-invoice-number fs-1 me-3"></i></span>
                            <div>
                                <p class="text-muted mb-0">Claim Number </p>
                                <p class="mb-0 fw-bold">{{ claimDetails?.CLAIMNO}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xl-6 col-xxl-4">
                <div class="card text-bg-success patient-info shadow-sm">
                    <div class="card-header">
                        <h5 class="mb-0">Patient Information</h5>
                    </div>
                    <div class="card-body py-xl-4">
                        <div class="row">
                            <div class="col-lg-12">
                                <h4 class="fw-normal mb-3">{{ claimDetails?.PATIENTNAME}}</h4>
                                <h6 class="fw-normal mb-3">{{ claimDetails?.categoryName}}</h6>
                                <ul class="list-unstyled mb-0">
                                    <li><i class="iconbsky-age"></i> {{ claimDetails?.AGE}} Years</li>
                                    <li *ngIf="  claimDetails?.GENDER=='F' "><i class="iconbsky-gender"></i> Female</li>
                                    <li *ngIf="  claimDetails?.GENDER=='M' "><i class="iconbsky-gender"></i> Male</li>
                                    <li><i class="iconbsky-mobile"></i> {{ claimDetails?.MOBILE}} </li>
                                    <li><i class="iconbsky-location"></i> {{ claimDetails?.Address}} </li>

                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="card shadow-sm mt-3 mt-xl-4 ">
                    <div class="card-header">
                        <h5 class="mb-0">Treatment Details</h5>
                    </div>
                    <div class="card-body">
                        <div class="row gx-xl-5 treatment-details">
                            <div class="col-xl">
                                <p class="small text-muted mb-0">Date of Admission and Date of Discharge</p>
                                <h6 class="mb-0"><i class="iconbsky-calendar small"></i> {{ claimDetails?.DATEOFADMISSION1}} -

                                    <i class="iconbsky-calendar small ps-2"></i> {{ claimDetails?.DATEOFDISCHARGE1}}
                                </h6>
                            </div>
                            <div class="col-xl border-start">
                                <div class="col-xl">
                                    <p class="small text-muted mb-0">Actual Date of Admission and Discharge</p>
                                    <h6 class="mb-0"><i class="iconbsky-calendar small"></i> {{ claimDetails?.ACTUALDATEOFADMISSION1}} -

                                        <i class="iconbsky-calendar small ps-2"></i> {{ claimDetails?.ACTUALDATEOFDISCHARGE1}}
                                    </h6>
                                </div>
                            </div>
                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-package-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Package Rate (₹)</p>
                                        <h6 class="mb-0"> {{ claimDetails?.PACKAGERATE | currency:"":"" }}</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Blocked Amount (₹)</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.TOTALAMOUNTBLOCKED | currency:"":"" }}</h6>
                                        <p class="small text-muted mb-0">Claimed Amount (₹)</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.TOTALAMOUNTCLAIMED | currency:"":"" }}</h6>
                                    </div>
                                </div>
                            </div>


                            <div class="col-12">
                                <hr class="mt-xl-4">
                            </div>
                            <div class="col-xl ">
                                <div class="col-xl">
                                    <p class="small text-muted mb-0">Claim Submission Date</p>
                                    <h6 class="mb-0"><i class="iconbsky-calendar small"></i> {{claimDetails?.CREATEON}}
                                    </h6>
                                </div>
                            </div>

                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0 ">Package Code</p>
                                        <h6 class="mb-0 ">{{claimDetails?.packageCode1}}</h6>
                                        <p class="small text-muted mb-0 ">Package Name</p>
                                        <h6 class="mb-0 ">{{claimDetails?.packageName1}}</h6>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-3  border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0 ">Sub-Package Code</p>
                                        <h6 class="mb-0 ">{{claimDetails?.subPackageCode1}}</h6>
                                        <p class="small text-muted mb-0 ">Sub-Package Name</p>
                                        <h6 class="mb-0 ">{{claimDetails?.subPackageName1}}</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0 ">Procedure Code</p>
                                        <h6 class="mb-0 ">{{claimDetails?.procedureCode1}}</h6>
                                        <p class="small text-muted mb-0 ">Procedure Name</p>
                                        <span class="mb-0 " id="procedureNameId" style="font-weight: 500"></span>
                                        <span id="showMoreId" (click)="showProcedureName()"></span>
                                        <span id="showMoreId1" (click)="hideProcedureName()"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-package-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Mortality (As per Hospital)</p>
                                        <h6 class="mb-0"> {{ claimDetails?.MORTALITY}}</h6>
                                        <p class="small text-muted mb-0">Mortality (As per CPD)</p>
                                        <h6 class="mb-0" *ngIf="claimDetails?.CPDMORTALITY == 'Y'">Yes</h6>
                                        <h6 class="mb-0" *ngIf="claimDetails?.CPDMORTALITY == 'N'">No</h6>
                                        <h6 class="mb-0" *ngIf="claimDetails?.CPDMORTALITY == undefined || claimDetails?.CPDMORTALITY == ''">N/A</h6>
                                    </div>
                                </div>
                            </div>

                            <!-- <div class="col-lg-3 border-start">
                              <div class="d-flex align-items-center">
                                  <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i>
                                  <div>
                                      <p class="small text-muted mb-0">Mortality</p>
                                      <h6 class="mb-0">{{ claimDetails?.MORTALITY}}</h6>
                                  </div>
                              </div>
                          </div>
                          <div class="col-lg-3 border-start">
                              <div class="d-flex align-items-center">
                                  <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i>
                                  <div>
                                      <p class="small text-muted mb-0">Referral Code</p>
                                      <h6 class="mb-0">{{ claimDetails?.REFERRALCODE}}</h6>
                                  </div>
                              </div>
                          </div> -->
                            <div class="col-12">
                                <hr class="mt-xl-4">
                            </div>

                            <div class="col-xl">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Claim Case Number</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.claimCaseNo}}</h6>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Claim Bill Number</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.claimBillNo}}</h6>
                                    </div>
                                </div>
                            </div>


                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Referral Code</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.REFERRALCODE }}</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">NABH Flag</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.NABHFlag }}</h6>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12">
                                <hr class="mt-xl-4">
                            </div>

                            <div class="col-xl">
                                <div class="d-flex align-items-center">
                                    <!-- <i class="iconbsky-block-amount mt-2 me-3 fs-1"></i> -->
                                    <div>
                                        <p class="small text-muted mb-0">Implant Data</p>
                                        <h6 class="mb-0 ">{{ claimDetails?.IMPLANTDATA }}</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <div>
                                        <p class="small text-muted mb-0">Authentication Mode</p>
                                        <h6 class="mb-0" style="color: red;">{{claimDetails?.verification}}</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <div>
                                        <p class="small text-muted mb-0">Is Patient OTP Verified</p>
                                        <h6 class="mb-0">{{claimDetails?.ispatient}}</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl border-start">
                                <div class="d-flex align-items-center">
                                    <div>
                                        <p class="small text-muted mb-0">Referral Auth Status</p>
                                        <h6 class="mb-0">{{claimDetails?.Referalstatus}}</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-xxl-12">
                            <div class="row mt-4">
                                <div class="col-lg-12 accordion">
                                    <div class="card shadow-sm treatment-history">
                                        <div class="accordion-item" id="headingThree">
                                            <div class="accordion-button collapsed card-header bg-color text-white" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseTwo" style="background: #366b3e">
                                                <h5>Pre-Auth Log :-</h5>
                                            </div>
                                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                                                <div class="card-body">
                                                    <div class="table-responsive">
                                                        <table class="table mb-0" style="width:100%">
                                                            <thead>
                                                                <tr>
                                                                    <th width="40" rowspan="2">Sl#</th>
                                                                    <th rowspan="2">Pre-Auth Code</th>
                                                                    <th rowspan="2">Claimed Amount (₹)</th>
                                                                    <th rowspan="2">Approved Amount (₹)</th>
                                                                    <th rowspan="2">Claimed Date</th>
                                                                    <th rowspan="2">Approved Date</th>
                                                                    <th rowspan="2">Remark</th>
                                                                    <th colspan="3" style="text-align:center">Documents</th>
                                                                    <th rowspan="2">Details</th>
                                                                </tr>
                                                                <tr>
                                                                    <th>Doc1</th>
                                                                    <th>Doc2</th>
                                                                    <th>Doc3</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <ng-container *ngIf="check">
                                                                    <tr *ngFor="let prteAuth of preAuth,index as i">
                                                                        <td>{{i+1}}</td>
                                                                        <td>{{prteAuth.preauthCode}}</td>
                                                                        <td>{{prteAuth.claimedAmount | currency:"":""}}</td>
                                                                        <td>{{prteAuth.approvedAmount | currency:"":""}}</td>
                                                                        <td>{{prteAuth.claimedDate1}}</td>
                                                                        <td>{{prteAuth.approvedDate1}}</td>
                                                                        <td>{{prteAuth.preAuthRemarks}}</td>
                                                                        <td *ngIf="prteAuth.aditionalDoc1 != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,prteAuth.aditionalDoc1,prteAuth.hospitalCode,prteAuth.claimedDate,'')"><i class="bi bi-file-earmark-pdf" style="color:red;font-size:15px;"></i></a></td>
                                                                        <td *ngIf="prteAuth.aditionalDoc1 == undefined">--</td>
                                                                        <td *ngIf="prteAuth.aditionalDoc2 != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,prteAuth.aditionalDoc2,prteAuth.hospitalCode,prteAuth.claimedDate,'')"><i class="bi bi-file-earmark-pdf" style="color:red;font-size:15px;"></i></a></td>
                                                                        <td *ngIf="prteAuth.aditionalDoc2 == undefined">--</td>
                                                                        <td *ngIf="prteAuth.aditionalDoc3 != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,prteAuth.aditionalDoc3,prteAuth.hospitalCode,prteAuth.claimedDate,'')"><i class="bi bi-file-earmark-pdf" style="color:red;font-size:15px;"></i></a></td>
                                                                        <td *ngIf="prteAuth.aditionalDoc3 == undefined">--</td>
                                                                        <td><a href="javascript:void(0)" (click)="preAuthLogDetail(prteAuth.urnNo, claimDetails?.AUTHORIZEDCODE,prteAuth.hospitalCode)">Click here</a></td>
                                                                    </tr>
                                                                </ng-container>
                                                                <tr *ngIf="!check">
                                                                    <td colspan="8" align="center"><strong class="text-danger">No data found</strong></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <!-- <div class="card-body" *ngIf="check">
                                  <ul class="list-unstyled">
                                      <li><i class="iconbsky-list-icon me-2"></i> Check more information.<a href="javascript:void(0)" (click)="preAuthLogDetails( claimDetails?.URN, claimDetails?.AUTHORIZEDCODE, claimDetails?.HOSPITALCODE)">
                                              Click here</a>
                                      </li>
                                  </ul>
                                  <hr>
                              </div> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-xl-12 col-xxl-12">
        <div class="row mt-4">
            <div class="col-lg-12 accordion">
                <div class="card shadow-sm treatment-history">
                    <div class="accordion-item" id="headingFour">
                        <div class="accordion-button collapsed card-header bg-color text-white" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseTwo" style="background: #366b3e">
                            <div class="row col-lg-12">
                                <div class="col-lg-10">
                                    <h5 class="mb-0">Latest Documents Uploaded(<span style="color:red">Verify All The Documents</span>)</h5>
                                </div>
                                <div class="col-lg-2">
                                    <button class="btn btn-success" style="float: right" (click)="viewAllDocument(claimDetails?.DISCHARGESLIP, claimDetails?.ADITIONALDOCS, claimDetails?.ADITIONAL_DOC1, claimDetails?.ADITIONAL_DOC2 , claimDetails?.PRESURGERYPHOTO, claimDetails?.POSTSURGERYPHOTO, claimDetails?.INTRA_SURGERY_PHOTO, claimDetails?.SPECIMEN_REMOVAL_PHOTO, claimDetails?.PATIENT_PHOTO)"><span class="bi bi-download" style="margin-right: 5px;"></span>Download All</button>
                                </div>
                            </div>
                        </div>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                            <div class="row mt-4">
                                <div class="col-lg-12">
                                    <div class="card shadow-sm document-upload">
                                        <div class="card-body uploaded-doc">
                                            <div class="row gx-5 justify-content-between">
                                                <div class="col-lg-6 col-xxl-6 border-end pt-xl-2">
                                                    <div class="row">
                                                        <!-- <div class="col-6 col-lg-3 col-xxl-3 text-center mb-4 " *ngIf=" claimDetails?.ADMINSSIONSLIP != undefined">
                                      <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.ADMINSSIONSLIP, claimDetails?.HOSPITALCODE, claimDetails?.ACTUALDATEOFADMISSION)">
                                          <img src="./assets/img/pdf.png" alt="Admission Slip" class="mb-2">
                                          <span class="d-block">Adminssion Slip</span>
                                      </a>
                                  </div>
                                  <div style="margin-top: 12%;" class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADMINSSIONSLIP == undefined">
                                      <span class="d-block">--</span>
                                      <span class="d-block">Admission Slip</span>
                                  </div> -->
                                                        <div class="col-6 col-lg-3 col-xxl-3 text-center mb-4">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.DISCHARGESLIP, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/pdf.png" alt="Admission Slip" class="mb-2">
                                                                <span class="d-block">Discharge Docs</span>
                                                            </a>
                                                        </div>
                                                        <div style="margin-top: 12%;" class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.DISCHARGESLIP == undefined">
                                                            <span class="d-block">--</span>
                                                            <span class="d-block">Discharge Docs</span>
                                                        </div>
                                                        <div class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADITIONALDOCS != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.ADITIONALDOCS, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/pdf.png" alt="Admission Slip" class="mb-2">
                                                                <span class="d-block">Additional Docs</span>
                                                            </a>
                                                        </div>
                                                        <div style="margin-top: 12%;" class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADITIONALDOCS == undefined">
                                                            <span class="d-block">--</span>
                                                            <span class="d-block">Additional Docs</span>
                                                        </div>
                                                        <div class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADITIONAL_DOC1 != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.ADITIONAL_DOC1, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/pdf.png" alt="Admission Slip" class="mb-2">
                                                                <span class="d-block">Aditional Docs 1</span>
                                                            </a>
                                                        </div>
                                                        <div style="margin-top: 12%;" class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADITIONAL_DOC1 == undefined">
                                                            <span class="d-block">--</span>
                                                            <span class="d-block">Additional Docs 1</span>
                                                        </div>
                                                        <div class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADITIONAL_DOC2 != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.ADITIONAL_DOC2, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/pdf.png" alt="Admission Slip" class="mb-2">
                                                                <span class="d-block">Additional Docs 2</span>
                                                            </a>
                                                        </div>
                                                        <div style="margin-top: 12%;" class="col-6 col-lg-3 col-xxl-3 text-center mb-4" *ngIf=" claimDetails?.ADITIONAL_DOC2 == undefined">
                                                            <span class="d-block">--</span>
                                                            <span class="d-block">Additional Docs 2</span>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-xxl-6">
                                                    <div class="row gx-5">
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.PRESURGERYPHOTO != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.PRESURGERYPHOTO, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/male-profile.jpg" alt="Pre-Surgery" class=" mb-2">
                                                                <span class="d-block mb-3">Pre-Surgery</span>
                                                            </a>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.PRESURGERYPHOTO == undefined">
                                                            <a href="javascript:void(0);">
                                                                <p>--</p>
                                                            </a>
                                                            <span class="d-block mb-3">Pre-Surgery</span>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.POSTSURGERYPHOTO != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.POSTSURGERYPHOTO, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/male-profile.jpg" alt="Post-Surgery" class="mb-2">
                                                                <span class="d-block mb-3">Post-Surgery</span>
                                                            </a>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.POSTSURGERYPHOTO == undefined">
                                                            <a href="javascript:void(0);">
                                                                <p>--</p>
                                                            </a>
                                                            <span class="d-block mb-3">Post-Surgery</span>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.PATIENT_PHOTO != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.PATIENT_PHOTO, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/male-profile.jpg" alt="Post-Surgery" class="mb-2">
                                                                <span class="d-block mb-3">Patient Photo</span>
                                                            </a>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.PATIENT_PHOTO == undefined">
                                                            <a href="javascript:void(0);">
                                                                <p>--</p>
                                                            </a>
                                                            <span class="d-block mb-3">Patient Photo</span>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.INTRA_SURGERY_PHOTO != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.INTRA_SURGERY_PHOTO, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/male-profile.jpg" alt="Post-Surgery" class="mb-2">
                                                                <span class="d-block mb-3">Intra-Surgery photo</span>
                                                            </a>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.INTRA_SURGERY_PHOTO == undefined">
                                                            <a href="javascript:void(0);">
                                                                <p>--</p>
                                                            </a>
                                                            <span class="d-block mb-3">Intra-Surgery photo</span>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.SPECIMEN_REMOVAL_PHOTO != undefined">
                                                            <a href="javascript:void(0);" (click)="downloadAction($event, claimDetails?.SPECIMEN_REMOVAL_PHOTO, claimDetails?.HOSPITALCODE, claimDetails?.DATEOFADMISSION)">
                                                                <img src="../../../../assets/img/male-profile.jpg" alt="Post-Surgery" class="mb-2">
                                                                <span class="d-block mb-3">Specimen Removal Photo</span>
                                                            </a>
                                                        </div>
                                                        <div class="col-6 col-xxl-4 text-center" *ngIf=" claimDetails?.SPECIMEN_REMOVAL_PHOTO == undefined">
                                                            <a href="javascript:void(0);">
                                                                <p>--</p>
                                                            </a>
                                                            <span class="d-block mb-3">Specimen Removal Photo</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-xl-12 col-xxl-12">
        <div class="row mt-4">
            <div class="col-lg-12 accordion">
                <div class="card shadow-sm treatment-history">
                    <div class="accordion-item" id="headingOne">
                        <div class="accordion-button collapsed card-header bg-color text-white" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseTwo" style="background: #366b3e">
                            <h5 class="mb-0">Treatment History</h5>
                        </div>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                            <div class="card-body">
                                <ul class="list-unstyled">
                                    <li><i class="iconbsky-list-icon me-2"></i> Check all discharged treatment information.
                                        <!-- <a href="javascript:void(0)" (click)="treatmentdetails()"> Click here</a> -->
                                    </li>
                                    <div class="content-box">
                                        <div class="row">
                                            <div class="table-responsive">
                                                <table class="table  mb-0" id="treatmentHistory">
                                                    <thead>
                                                        <tr>
                                                            <th width="50">Sl#</th>
                                                            <th>Claim No.</th>
                                                            <th>URN</th>
                                                            <th>Package Code</th>
                                                            <th>Patient Name</th>
                                                            <th>Hospital Name</th>
                                                            <th>Admission Date</th>
                                                            <th>Actual Admission Date</th>
                                                            <th>Discharge Date</th>
                                                            <th>Actual Discharge Date</th>
                                                            <th>Hospital Claim Amount(₹)</th>
                                                            <th>CPD Approved Amount(₹)</th>
                                                            <th>SNA Approved Amount(₹)</th>
                                                            <th>Status</th>
                                                            <th>CPD Name</th>
                                                            <th>Action</th>
                                                            <th>Details</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <ng-container *ngIf="trtData?.length">
                                                            <tr *ngFor="let item of trtData; index as i">
                                                                <td>{{i+1}}</td>
                                                                <td width="100" *ngIf="item.claimNo!=null">{{item.claimNo}}</td>
                                                                <td width="100" *ngIf="item.claimNo==null"></td>
                                                                <td width="100">{{item.urn}}</td>
                                                                <td width="100" title={{item.packagename}}>{{item.packagecode}}</td>
                                                                <td width="100">{{item.patientname}}</td>
                                                                <td width="100">{{item.hospitalName}} ({{item.hospitalCode}})</td>
                                                                <td width="100">{{item.dateofadmission}}</td>
                                                                <td width="100">{{item.actualdateofadmission}}</td>
                                                                <td width="100">{{item.dateofdischarge}}</td>
                                                                <td width="100">{{item.actualdateofdischarge}}</td>
                                                                <td width="100">{{item.totalamountclaimed}}</td>
                                                                <td width="100" *ngIf="item.cpdapprovedamount==null"></td>
                                                                <td width="100" *ngIf="item.cpdapprovedamount!=null">{{item.cpdapprovedamount}}</td>
                                                                <td width="100" *ngIf="item.snoapprovedamount==null"></td>
                                                                <td width="100" *ngIf="item.snoapprovedamount!=null">{{item.snoapprovedamount}}</td>
                                                                <td width="100">{{item.actiontype}}</td>
                                                                <td width="150" *ngIf="item.cpdName!=null">{{item.cpdName}}</td>
                                                                <td width="150" *ngIf="item.cpdName==null"></td>
                                                                <td width="150" *ngIf="item.transactiondetailsid==txnId  || item.pendingAt!=2"></td>
                                                                <td width="150" *ngIf="item.transactiondetailsid!=txnId && item.pendingAt==2"><a class="btn btn-outline-success btn-sm" (click)="onAction(item.transactiondetailsid,item.urn,item.packagecode,item.claimStatus)">Action</a></td>
                                                                <td width="100"><a href="javascript:void(0)" (click)="getDetails(item.transactiondetailsid,item.claimid,item.claimRaiseStatus,item.urn)">Click
                                                              here</a></td>
                                                            </tr>
                                                        </ng-container>
                                                        <tr *ngIf="! trtData?.length">
                                                            <td colspan="8" align="center" *ngIf="isVisible"><strong class="text-danger">No data
                                                          found</strong></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <li><i class="iconbsky-list-icon me-2"></i> Check all discharged treatment information
                              admitted on {{ claimDetails?.DATEOFADMISSION | date: 'dd-MMM-yyyy'}}. <a
                                  href="javascript:void(0)" (click)="packagedetails()">Click here</a></li> -->
                                    <!-- <li><i class="iconbsky-list-icon me-2"></i> Total no. of discharge for this package till now. <span class="text-primary"> 2 times</span></li>
                          <li><i class="iconbsky-list-icon me-2"></i> Total no. of discharge for this package for this patient till now. <span class="text-primary">1 time</span></li> -->
                                </ul>
                                <ul class="list-unstyled">
                                    <li><i class="iconbsky-list-icon me-2"></i> Check Old Claim information.
                                        <!-- <a href="javascript:void(0)" (click)="Oldtreatmentdetails()"> Click here</a> -->
                                    </li>
                                    <div class="content-box">
                                        <div class="row">
                                            <div class="table-responsive">
                                                <table class="table  mb-0" id="oldTreatmentHistory">
                                                    <thead>
                                                        <tr>
                                                            <th width="50">Sl#</th>
                                                            <th>URN</th>
                                                            <!-- <th>Chip Serial No.</th> -->
                                                            <th>Patient Name</th>
                                                            <th>Hospital Name</th>
                                                            <th>Date of Admission</th>
                                                            <th>Actual Date of Admission</th>
                                                            <th>Date of Discharge</th>
                                                            <th>Actual Date of Discharge</th>
                                                            <th>Claim Status</th>
                                                            <th>Approved Amount(₹)</th>
                                                            <th>Approved Date</th>
                                                            <th>SNA Approved Amount(₹)</th>
                                                            <th>SNA Approved Date</th>
                                                            <th>Remarks</th>
                                                            <th>SNA Remarks</th>
                                                            <!-- <th>TPA Final Status</th>
                                                  <th>TPA Final Decission Date</th> -->
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <ng-container *ngIf="trtData?.length">
                                                            <tr *ngFor="let item of oldTrtData; index as i">
                                                                <td>{{i+1}}</td>
                                                                <td width="100">{{item.urn}}</td>
                                                                <!-- <td width="100">{{item.chipno}}</td> -->
                                                                <td width="100">{{item.patientName}}</td>
                                                                <td width="100">{{item.hospitalName}} ({{item.hospitalCode}})</td>
                                                                <td width="100">{{item.dateOfAdmission1}}</td>
                                                                <td width="100">{{item.actualDateOfAdmission1}}</td>
                                                                <td width="100">{{item.dateOfDischarge1}}</td>
                                                                <td width="100">{{item.actualDateOfDischarge1}}</td>
                                                                <td width="100">{{item.claimstatus}}</td>
                                                                <td width="100">{{item.approvedamount }}</td>
                                                                <td width="100">{{item.approveddate1}} </td>
                                                                <td width="100">{{item.snaapprovedamount}}</td>
                                                                <td width="100">{{item.snaapproveddate1}} </td>
                                                                <td width="100">{{item.remarks}}</td>
                                                                <td width="100">{{item.snaremarks}}</td>
                                                                <!-- <td width="100">{{item.tpafinalstatus}}</td>
                                                      <td width="100">{{item.tpafinaldecisiondate | date :'dd-MMM-yyyy, h:mm:ss a'}} </td> -->
                                                            </tr>
                                                        </ng-container>
                                                        <tr *ngIf="! trtData?.length">
                                                            <td colspan="8" align="center" *ngIf="isVisible"><strong class="text-danger">No data
                                                          found</strong></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-lg-12 col-xl-12 col-xxl-12">
    <div class="row mt-4">
        <div class="col-lg-12 accordion">
            <div class="card shadow-sm treatment-history">
                <div class="accordion-item" id="headingTwo">
                    <div class="accordion-button collapsed card-header bg-color text-white" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" style="background: #366b3e">
                        <h5 class="mb-0">Multiple Package Blocking</h5>
                    </div>
                    <div id="collapseTwo" class="accordion-collapse collapse show" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table mb-0" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th width="40" rowspan="2">Sl#</th>

                                            <th rowspan="2">Patient Name</th>
                                            <th rowspan="2">Date of Admission</th>
                                            <th rowspan="2">Date of Discharge</th>
                                            <th rowspan="2">Package Name</th>
                                            <th rowspan="2">Claim Raised</th>
                                            <th rowspan="2">Details</th>
                                        </tr>

                                    </thead>
                                    <tbody>
                                        <ng-container *ngIf="multiFlag">
                                            <tr *ngFor="let multiPack of multiPackList,index as i">
                                                <td>{{i+1}}</td>

                                                <td>{{multiPack.patientName}}</td>
                                                <td>{{multiPack.actualDateof1}}</td>
                                                <td>{{multiPack.actualDischarge1}}</td>
                                                <td>{{multiPack.packageName }}</td>
                                                <td>{{multiPack.claimStatus }}</td>
                                                <td><a href="javascript:void(0)" (click)="multiPackageDetails(multiPack.urn,multiPack.authorizedcode,multiPack.hospitalcode,multiPack.transctionId)">Click here</a></td>
                                            </tr>
                                        </ng-container>
                                        <tr *ngIf="!multiFlag">
                                            <td colspan="8" align="center"><strong class="text-danger">No data found</strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="col-lg-12 accordion">
        <div class="card shadow-sm treatment-history">
            <div class="accordion-item" id="tratmenthistory">
                <div class="accordion-button collapsed card-header bg-color" data-bs-toggle="collapse" data-bs-target="#collapsevitalfor" aria-expanded="false" aria-controls="collapsevital">
                    <h5 class="mb-0" style="font-size: 12pt;">Treatment History</h5>
                </div>
                <div id="collapsevitalfor" class="accordion-collapse collapse" aria-labelledby="tratmenthistory" data-bs-parent="#accordionExample">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table mb-0 border" style="width:100%;">
                                <thead>
                                    <!-- <tr>
                                            <th scope="col"></th>
                                            <th scope="col"></th>
                                            <th scope="col"></th>
                                        </tr> -->
                                </thead>
                                <tbody>
                                    <tr>

                                        <th style="width:40%;background-color:#f7f7f7;padding-left:4rem;">Total No. Of Package Blocked For This URN Till Now</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{totalnumberofpackage}}</td>
                                    </tr>
                                    <tr>

                                        <th style="width:40%;background-color:#f7f7f7;padding-left:4rem;">Total No. Of Member Blocked For This URN Till Now</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{totalnumberofmember}}</td>
                                    </tr>
                                    <tr>

                                        <th style="width:45%;background-color:#f7f7f7;padding-left:4rem;">Total No. Of Package Blocked For This URN In This Hospital</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{totalnumberofpackageforhospital}}</td>
                                    </tr>
                                    <tr>

                                        <th style="width:40%;background-color:#f7f7f7;padding-left:4rem;">Total No. Of member Blocked For This URN In This Hospital</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{totalnumberofmemberforhospital}}</td>
                                    </tr>
                                    <tr>

                                        <th style="width:40%;background-color:#f7f7f7;padding-left:4rem;">Total Amount Blocked For This URN Till Now</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{totalNoOfBloackedamount | currency:'':''}}</td>
                                    </tr>
                                    <tr>

                                        <th style="width:40%;background-color:#f7f7f7;padding-left:4rem;">Total No. Of Package Blocked For This Patient</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{packageblockedforpatient}}</td>
                                    </tr>
                                    <tr>

                                        <th style="width:40%;background-color:#f7f7f7;padding-left:4rem;">Sum Of Packaged Blocked For This Patient</th>
                                        <th style="background-color:#f7f7f7;">:</th>
                                        <td style="background-color:#f7f7f7;">{{sumofpackageblockedamount | currency:'':''}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="col-lg-12 col-xl-12 col-xxl-12">
        <div class="row mt-4">
            <div class="col-lg-12 accordion">
                <div class="card shadow-sm treatment-history">
                    <div class="accordion-item" id="data">
                        <div class="accordion-button collapsed card-header bg-color text-white" data-bs-toggle="collapse" data-bs-target="#collapse" aria-expanded="false" aria-controls="collapse" style="background: #366b3e">
                            <h5 class="mb-0">Action Taken History</h5>
                        </div>
                        <div id="collapse" class="accordion-collapse collapse show" aria-labelledby="data" data-bs-parent="#accordionExample">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table mb-0">
                                        <thead>
                                            <tr>
                                                <th>Sl#</th>
                                                <th>Action By</th>
                                                <th>Action On</th>
                                                <th>Action Type</th>
                                                <th>Action Amount (₹)</th>
                                                <th>Remark</th>
                                                <th>Description</th>
                                                <th>Discharge Slip</th>
                                                <th>Additional Docs</th>
                                                <th>Additional Docs1</th>
                                                <th>Additional Docs2</th>
                                                <th>Pre Surgery</th>
                                                <th>Post Surgery</th>
                                                <th>Intra Surgery</th>
                                                <th>Specimen Removal</th>
                                                <th>Patient Photo</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let action of claimLog index as i">
                                                <td>{{i+1}}</td>
                                                <td>{{action.ACTIONBY}}</td>
                                                <td>{{action.ACTIONON1}}</td>
                                                <td>{{action.ACTIONTYPE}}</td>
                                                <td>{{action.APPROVEDAMOUNT | currency:'':''}}</td>
                                                <td>{{action.REMARKS}}</td>
                                                <!-- bi bi-file-earmark-pdf -->
                                                <td *ngIf="action.DESCRIPTION != undefined"><a href="javascript:void(0)" (click)="viewDescription(action.DESCRIPTION)">view</a></td>
                                                <td *ngIf="action.DESCRIPTION == undefined">--</td>
                                                <td *ngIf="action.DISCHARGESLIP != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.DISCHARGESLIP,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-pdf" style="color:red;font-size:24px;"></i></a>
                                                </td>
                                                <td *ngIf="action.DISCHARGESLIP == undefined">--</td>
                                                <td *ngIf="action.ADITIONALDOCS != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.ADITIONALDOCS,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-pdf" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.ADITIONALDOCS == undefined">--</td>
                                                <td *ngIf="action.ADDITIONALDOC1 != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.ADDITIONALDOC1,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-pdf" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.ADDITIONALDOC1 == undefined">--</td>
                                                <td *ngIf="action.ADDITIONALDOC2 != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.ADDITIONALDOC2,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-pdf" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.ADDITIONALDOC2 == undefined">--</td>
                                                <td *ngIf="action.PRESURGERY != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.PRESURGERY,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-image" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.PRESURGERY == undefined">--</td>
                                                <td *ngIf="action.POSTSURGERY != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.POSTSURGERY,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-image" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.POSTSURGERY == undefined">--</td>
                                                <td *ngIf="action.INTRA_SURGERY_PHOTO != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.INTRA_SURGERY_PHOTO,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-image" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.INTRA_SURGERY_PHOTO == undefined">--</td>
                                                <td *ngIf="action.SPECIMEN_REMOVAL_PHOTO != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.SPECIMEN_REMOVAL_PHOTO,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-image" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.SPECIMEN_REMOVAL_PHOTO == undefined">--</td>
                                                <td *ngIf="action.PATIENT_PHOTO != undefined"><a href="javascript:void(0);" (click)="downloadAction($event,action.PATIENT_PHOTO,action.HOSPITALCODE,action.DATEOFADMISSION)"><i
                                                  class="bi bi-file-earmark-image" style="color:red;font-size:24px"></i></a>
                                                </td>
                                                <td *ngIf="action.PATIENT_PHOTO == undefined">--</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal justify-content-center" id="appealDisposal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body py-5">
                <span class="text-center text-success">
          {{dtls}}
         </span>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" (click)="modalClose()">Ok</button>
            </div>
        </div>
    </div>
</div>